{"ast":null,"code":"var _jsxFileName = \"/home/cytech/web6/frontend/src/pages/Login.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\n//import '../styles/Auth.css';\nimport '../styles/LogIn.css';\nimport { useNavigate } from \"react-router-dom\";\nimport { mockData } from '../data/mockData';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Login() {\n  _s();\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [newPassword, setNewPassword] = useState('');\n  const [role, setRole] = useState('');\n  const [users, setUsers] = useState([]);\n  const [attente, setAttente] = useState([]);\n  const [messages, setMessages] = useState([]);\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [userEmail, setUserEmail] = useState('');\n  const [loginError, setLoginError] = useState('');\n  const [selectedDevices, setSelectedDevices] = useState(JSON.parse(localStorage.getItem('selectedDevices')) || [] // R√©cup√©rer les appareils s√©lectionn√©s depuis localStorage\n  );\n\n  // V√©rifier l'√©tat de la session au d√©marrage\n  useEffect(() => {\n    fetch('http://localhost:8000/checkSession.php', {\n      method: 'GET',\n      credentials: 'include' // inclure les cookies pour v√©rifier la session\n    }).then(response => response.json()).then(data => {\n      if (data.success) {\n        setIsLoggedIn(true);\n        setUserEmail(data.email);\n        setRole(data.role);\n      }\n    }).catch(error => {\n      console.error('Erreur lors de la v√©rification de la session:', error);\n    });\n  }, []);\n  const handleLoginSubmit = e => {\n    e.preventDefault();\n    // Affichage des valeurs avant l'envoi\n    console.log(\"Donn√©es envoy√©es : \", {\n      email,\n      password\n    });\n\n    // Cr√©e les donn√©es √† envoyer\n    const data = new URLSearchParams();\n    data.append('email', email);\n    data.append('password', password);\n\n    // recupere des donn√©es au serveur PHP\n    fetch(\"http://localhost:8000/LogIn.php\", {\n      method: \"POST\",\n      credentials: \"include\",\n      headers: {\n        \"Content-Type\": \"application/x-www-form-urlencoded\"\n      },\n      body: data\n    }).then(response => response.text()) // Lecture de la r√©ponse en texte brut\n    .then(data => {\n      console.log('R√©ponse du serveur:', data); // Affiche la r√©ponse du serveur\n      if (data.startsWith('success')) {\n        const [, userEmail, userRole] = data.split('|');\n        console.log(\" Email r√©cup√©r√©:\", userEmail);\n        console.log(\"R√¥le r√©cup√©r√©:\", userRole);\n        setIsLoggedIn(true);\n        setEmail(userEmail);\n        setUserEmail(userEmail);\n        setRole(userRole);\n        setLoginError(\"\"); // R√©initialiser l'erreur\n      } else {\n        setLoginError(data); // Afficher l'erreur re√ßue\n      }\n    }).catch(error => {\n      console.error(\"Erreur:\", error);\n    });\n  };\n  const handleLogout = () => {\n    fetch('http://localhost:8000/logout.php', {\n      method: 'GET',\n      credentials: 'include',\n      headers: {\n        \"Content-Type\": \"application/x-www-form-urlencoded\"\n      }\n    }).then(response => response.json()).then(data => {\n      if (data.success) {\n        console.log('D√©connexion r√©ussie:', data.message); // Affiche dans la console\n        alert(data.message); // Affiche un message √† l'utilisateur\n        setIsLoggedIn(false);\n        setUserEmail('');\n        navigate('/');\n      } else {\n        console.error('Erreur de d√©connexion:', data.message);\n      }\n    }).catch(error => {\n      console.error('Erreur r√©seau:', error);\n    });\n  };\n  const [passwordMessage, setPasswordMessage] = useState('');\n  const handleChangePasswordSubmit = e => {\n    e.preventDefault();\n    if (!userEmail || !role) {\n      console.error(\"Erreur : Email ou r√¥le manquant !\");\n      setPasswordMessage(\" Une erreur est survenue.\");\n      return;\n    }\n    if (!newPassword.trim()) {\n      setPasswordMessage(\" Le mot de passe ne peut pas √™tre vide.\");\n      return;\n    }\n    console.log(\"üîç Donn√©es envoy√©es :\", {\n      userEmail,\n      newPassword\n    });\n    // Cr√©ation des donn√©es √† envoyer\n    const data = new URLSearchParams();\n    data.append('userEmail', userEmail);\n    data.append('newPassword', newPassword);\n    data.append('role', role);\n    fetch(\"http://localhost:8000/ChangePassword.php\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/x-www-form-urlencoded\"\n      },\n      body: data\n    }).then(response => response.text()).then(serverMessage => {\n      console.log(\"R√©ponse du serveur :\", serverMessage);\n      if (serverMessage === \"success\") {\n        setPasswordMessage(\" Mot de passe chang√© avec succ√®s !\");\n      } else {\n        setPasswordMessage(\"\" + serverMessage);\n      }\n    }).catch(error => {\n      console.error(\"Erreur:\", error);\n      setPasswordMessage(\" Une erreur r√©seau est survenue.\");\n    });\n  };\n  const navigate = useNavigate();\n  const handleDeleteUser = targetEmail => {\n    if (!window.confirm(`Voulez-vous vraiment supprimer l'utilisateur ${targetEmail} ?`)) {\n      return;\n    }\n    const data = new URLSearchParams();\n    data.append('email', targetEmail);\n    fetch(\"http://localhost:8000/DeleteUser.php\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/x-www-form-urlencoded\"\n      },\n      body: data\n    }).then(response => response.text()).then(data => {\n      if (data === \"success\") {\n        alert(\"Utilisateur supprim√© avec succ√®s !\");\n        setUsers(users.filter(user => user.email !== targetEmail)); // Mise √† jour dynamique\n      } else {\n        alert(\" Erreur lors de la suppression !\");\n      }\n    }).catch(error => {\n      console.error(\" Erreur suppression utilisateur:\", error);\n    });\n  };\n  useEffect(() => {\n    if (isLoggedIn && role === 'admin') {\n      fetchUsers(); // Appel uniquement si l'utilisateur est connect√© et admin\n    }\n  }, [isLoggedIn, role]);\n  const fetchUsers = () => {\n    const adminEmail = 'admin@example.com'; // L'email de l'admin\n\n    console.log(\" Envoi de l'email admin :\", adminEmail); // Affiche l'email envoy√©\n\n    const data = new URLSearchParams();\n    data.append('admin_email', adminEmail); // Ajoute l'email dans les donn√©es envoy√©es\n\n    fetch(\"http://localhost:8000/GetUsers.php\", {\n      method: \"POST\",\n      // M√©thode POST pour envoyer les donn√©es\n      headers: {\n        \"Content-Type\": \"application/x-www-form-urlencoded\" // Formulaire x-www-form-urlencoded\n      },\n      body: data // Envoi des donn√©es avec l'email de l'admin\n    }).then(response => response.json()) // Traite la r√©ponse comme un JSON\n    .then(data => {\n      console.log(\" R√©ponse brute du serveur:\", data);\n      if (data.users && data.attente) {\n        setUsers(data.users); // Mets √† jour la liste des utilisateurs\n        setAttente(data.attente); // Mets √† jour la liste des utilisateurs en attente\n      } else {\n        console.error(\" Erreur : Pas de donn√©es valides dans la r√©ponse\");\n      }\n    }).catch(error => {\n      console.error(\" Erreur r√©cup√©ration utilisateurs et liste d'attente:\", error);\n    });\n  };\n  const handleMoveToUser = email => {\n    // Demander √† l'utilisateur de confirmer l'action\n    if (window.confirm(`Voulez-vous vraiment d√©placer ${email} de la liste d'attente vers la liste des utilisateurs ?`)) {\n      // Pr√©parer les donn√©es √† envoyer\n      const data = new URLSearchParams();\n      data.append('email', email); // L'email de l'utilisateur √† d√©placer\n      console.log(\"email a transferer:\", email);\n\n      // Effectuer la requ√™te pour d√©placer l'utilisateur\n      fetch(\"http://localhost:8000/MoveToUser.php\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded\"\n        },\n        body: data\n      }).then(response => response.text()).then(response => {\n        if (response === 'success') {\n          alert(`${email} a √©t√© d√©plac√© avec succ√®s vers la liste des utilisateurs.`);\n          // Mettre √† jour les listes localement apr√®s le d√©placement\n          setAttente(attente.filter(user => user.email !== email)); // Enlever de la liste d'attente\n          setUsers([...users, {\n            email,\n            role: 'user'\n          }]); // Ajouter √† la liste des utilisateurs\n        } else {\n          alert(\" Une erreur est survenue lors du d√©placement.\");\n        }\n      }).catch(error => {\n        console.error(\" Erreur lors du d√©placement :\", error);\n      });\n    }\n  };\n  const handleDeviceSelection = event => {\n    const {\n      value,\n      checked\n    } = event.target;\n    setSelectedDevices(prevSelectedDevices => {\n      const updatedDevices = checked ? [...prevSelectedDevices, value] // Ajoute l'appareil si coch√©\n      : prevSelectedDevices.filter(device => device !== value); // Enl√®ve l'appareil si d√©coch√©\n      localStorage.setItem('selectedDevices', JSON.stringify(updatedDevices)); // Sauvegarde dans localStorage\n      return updatedDevices;\n    });\n  };\n  const handleSubmitDevices = () => {\n    navigate('/', {\n      state: {\n        selectedDevices\n      }\n    }); // Passe les appareils s√©lectionn√©s √† Home\n  };\n  useEffect(() => {\n    if (isLoggedIn && role === 'admin') {\n      fetchMessages(); // Appel pour r√©cup√©rer les messages\n    }\n  }, [isLoggedIn, role]);\n  const fetchMessages = () => {\n    fetch('http://localhost:8000/GetMessages.php', {\n      method: 'GET',\n      credentials: 'include'\n    }).then(response => response.json()).then(data => {\n      console.log('Messages r√©cup√©r√©s:', data);\n      if (data.messages) {\n        setMessages(data.messages); // Met √† jour l'√©tat des messages\n      } else {\n        console.error('Erreur lors de la r√©cup√©ration des messages.');\n      }\n    }).catch(error => {\n      console.error('Erreur de r√©cup√©ration des messages:', error);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"login-container\",\n    children: !isLoggedIn ? /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"login-form\",\n      onSubmit: handleLoginSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Email :\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          value: email,\n          onChange: e => setEmail(e.target.value),\n          className: \"form-input\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 315,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Mot de passe :\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          value: password,\n          onChange: e => setPassword(e.target.value),\n          className: \"form-input\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 9\n      }, this), loginError && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"error-message\",\n        children: loginError\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 24\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"submit-btn\",\n        children: \"Se connecter\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 312,\n      columnNumber: 7\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"welcome-message\",\n        children: [\"Bienvenue, \", userEmail, \"!\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 336,\n        columnNumber: 9\n      }, this), role === 'admin' ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-dashboard\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dashboard-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Liste des utilisateurs\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 341,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"table-responsive\",\n            children: /*#__PURE__*/_jsxDEV(\"table\", {\n              className: \"data-table\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 343,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 342,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 340,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dashboard-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Liste d'attente\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"table-responsive\",\n            children: /*#__PURE__*/_jsxDEV(\"table\", {\n              className: \"data-table\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 352,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 351,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dashboard-section\",\n          children: /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Messages des utilisateurs\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 359,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dashboard-section devices-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"S\\xE9lectionnez des appareils \\xE0 afficher\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 364,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            className: \"devices-form\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 365,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"action-buttons\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleSubmitDevices,\n              className: \"action-btn\",\n              children: \"\\u2B05 Appliquer les modifications\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 369,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => navigate('/'),\n              className: \"action-btn home-btn\",\n              children: \"\\u2B05 Retour \\xE0 l'accueil\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 372,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 368,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 363,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"user-dashboard\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dashboard-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Modifier votre mot de passe\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 381,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleChangePasswordSubmit,\n            className: \"password-form\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 382,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 380,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"action-buttons\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => navigate('/'),\n            className: \"action-btn\",\n            children: \"\\u2B05 Retour \\xE0 l'accueil\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 388,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleLogout,\n            className: \"logout-btn\",\n            children: \"Se d\\xE9connecter\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 391,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 387,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 379,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 335,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 310,\n    columnNumber: 3\n  }, this);\n}\n_s(Login, \"6Q6a/8NUGo51nHpCdZutmdQbsaE=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","mockData","jsxDEV","_jsxDEV","Login","_s","email","setEmail","password","setPassword","newPassword","setNewPassword","role","setRole","users","setUsers","attente","setAttente","messages","setMessages","isLoggedIn","setIsLoggedIn","userEmail","setUserEmail","loginError","setLoginError","selectedDevices","setSelectedDevices","JSON","parse","localStorage","getItem","fetch","method","credentials","then","response","json","data","success","catch","error","console","handleLoginSubmit","e","preventDefault","log","URLSearchParams","append","headers","body","text","startsWith","userRole","split","handleLogout","message","alert","navigate","passwordMessage","setPasswordMessage","handleChangePasswordSubmit","trim","serverMessage","handleDeleteUser","targetEmail","window","confirm","filter","user","fetchUsers","adminEmail","handleMoveToUser","handleDeviceSelection","event","value","checked","target","prevSelectedDevices","updatedDevices","device","setItem","stringify","handleSubmitDevices","state","fetchMessages","className","children","onSubmit","type","onChange","fileName","_jsxFileName","lineNumber","columnNumber","onClick","_c","$RefreshReg$"],"sources":["/home/cytech/web6/frontend/src/pages/Login.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\n//import '../styles/Auth.css';\nimport '../styles/LogIn.css';  \nimport { useNavigate } from \"react-router-dom\";\nimport { mockData } from '../data/mockData';\n\nfunction Login() {\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const [newPassword, setNewPassword] = useState('');\n    const [role, setRole] = useState('');\n    const [users, setUsers] = useState([]);\n    const [attente, setAttente] = useState([]);\n    const [messages, setMessages] = useState([]);\n    \n    const [isLoggedIn, setIsLoggedIn] = useState(false); \n    const [userEmail, setUserEmail] = useState('');\n    const [loginError, setLoginError] = useState('');\n    const [selectedDevices, setSelectedDevices] = useState(\n      JSON.parse(localStorage.getItem('selectedDevices')) || []  // R√©cup√©rer les appareils s√©lectionn√©s depuis localStorage\n    );  \n\n\n  // V√©rifier l'√©tat de la session au d√©marrage\n    useEffect(() => {\n        fetch('http://localhost:8000/checkSession.php', {\n          method: 'GET',\n          credentials: 'include', // inclure les cookies pour v√©rifier la session\n        })\n          .then(response => response.json())\n          .then(data => {\n            if (data.success) {\n              setIsLoggedIn(true);\n              setUserEmail(data.email); \n              setRole(data.role); \n            }\n          })\n          .catch(error => {\n            console.error('Erreur lors de la v√©rification de la session:', error);\n          });\n      }, []);\n\n    const handleLoginSubmit = (e) => {\n      e.preventDefault();\n    // Affichage des valeurs avant l'envoi\n    console.log(\"Donn√©es envoy√©es : \", {email, password });\n  \n      // Cr√©e les donn√©es √† envoyer\n      const data = new URLSearchParams();\n      data.append('email', email);\n      data.append('password', password);\n      \n  \n      // recupere des donn√©es au serveur PHP\n      fetch(\"http://localhost:8000/LogIn.php\", {\n        method: \"POST\",\n        credentials: \"include\", \n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded\",\n        },\n        body: data,\n      })\n      .then((response) => response.text())  // Lecture de la r√©ponse en texte brut\n      .then((data) => {\n        console.log('R√©ponse du serveur:', data);  // Affiche la r√©ponse du serveur\n        if (data.startsWith('success')) {\n          const [, userEmail, userRole] = data.split('|');\n          console.log(\" Email r√©cup√©r√©:\", userEmail);\n          console.log(\"R√¥le r√©cup√©r√©:\", userRole);\n          setIsLoggedIn(true);\n          setEmail(userEmail);\n          setUserEmail(userEmail);\n          setRole(userRole);\n          setLoginError(\"\");  // R√©initialiser l'erreur\n        } else {\n          setLoginError(data);  // Afficher l'erreur re√ßue\n        }\n      })\n      .catch((error) => {\n        console.error(\"Erreur:\", error);\n      });\n    };\n\n\n\n    const handleLogout = () => {\n      fetch('http://localhost:8000/logout.php', {\n        method: 'GET',\n        credentials: 'include', \n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded\",\n        }, \n      })\n      .then((response) => response.json()) \n      .then((data) => {\n        if (data.success) {\n          console.log('D√©connexion r√©ussie:', data.message); // Affiche dans la console\n          alert(data.message); // Affiche un message √† l'utilisateur\n          setIsLoggedIn(false);\n          setUserEmail('');\n          navigate('/'); \n        } else {\n          console.error('Erreur de d√©connexion:', data.message);\n        }\n      })\n      .catch((error) => {\n        console.error('Erreur r√©seau:', error);\n      });\n    };\n\n\n\n\n\n    const [passwordMessage, setPasswordMessage] = useState('');\n\n    const handleChangePasswordSubmit = (e) => {\n        e.preventDefault();\n      \n        if (!userEmail || !role) {\n            console.error(\"Erreur : Email ou r√¥le manquant !\");\n            setPasswordMessage(\" Une erreur est survenue.\");\n            return;\n        }\n    \n        if (!newPassword.trim()) {\n            setPasswordMessage(\" Le mot de passe ne peut pas √™tre vide.\");\n            return;\n        }\n        console.log(\"üîç Donn√©es envoy√©es :\", { userEmail, newPassword });\n        // Cr√©ation des donn√©es √† envoyer\n        const data = new URLSearchParams();\n        data.append('userEmail', userEmail);\n        data.append('newPassword', newPassword);\n        data.append('role', role);\n    \n        fetch(\"http://localhost:8000/ChangePassword.php\", {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/x-www-form-urlencoded\",\n            },\n            body: data,\n        })\n        .then(response => response.text()) \n        .then((serverMessage) => {\n            console.log(\"R√©ponse du serveur :\", serverMessage);\n    \n            if (serverMessage === \"success\") {\n                setPasswordMessage(\" Mot de passe chang√© avec succ√®s !\");\n            } else {\n                setPasswordMessage(\"\" + serverMessage);\n            }\n        })\n        .catch((error) => {\n            console.error(\"Erreur:\", error);\n            setPasswordMessage(\" Une erreur r√©seau est survenue.\");\n        });\n    };\n\n    const navigate = useNavigate();\n\n\n\n    const handleDeleteUser = (targetEmail) => {\n      if (!window.confirm(`Voulez-vous vraiment supprimer l'utilisateur ${targetEmail} ?`)) {\n          return;\n      }\n  \n      const data = new URLSearchParams();\n      data.append('email', targetEmail);\n  \n      fetch(\"http://localhost:8000/DeleteUser.php\", {\n          method: \"POST\",\n          headers: {\n              \"Content-Type\": \"application/x-www-form-urlencoded\",\n          },\n          body: data,\n      })\n      .then(response => response.text())\n      .then((data) => {\n          if (data === \"success\") {\n              alert(\"Utilisateur supprim√© avec succ√®s !\");\n              setUsers(users.filter(user => user.email !== targetEmail)); // Mise √† jour dynamique\n          } else {\n              alert(\" Erreur lors de la suppression !\");\n          }\n      })\n      .catch((error) => {\n          console.error(\" Erreur suppression utilisateur:\", error);\n      });\n    };\n  \n\n\n\n    useEffect(() => {\n      if (isLoggedIn && role === 'admin') {\n        fetchUsers();  // Appel uniquement si l'utilisateur est connect√© et admin\n      }\n    }, [isLoggedIn, role]);\n    const fetchUsers = () => {\n      const adminEmail = 'admin@example.com';  // L'email de l'admin\n    \n      console.log(\" Envoi de l'email admin :\", adminEmail);  // Affiche l'email envoy√©\n    \n      const data = new URLSearchParams();\n      data.append('admin_email', adminEmail);  // Ajoute l'email dans les donn√©es envoy√©es\n    \n      fetch(\"http://localhost:8000/GetUsers.php\", {\n        method: \"POST\",  // M√©thode POST pour envoyer les donn√©es\n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded\"  // Formulaire x-www-form-urlencoded\n        },\n        body: data  // Envoi des donn√©es avec l'email de l'admin\n      })\n      .then(response => response.json())  // Traite la r√©ponse comme un JSON\n      .then(data => {\n        console.log(\" R√©ponse brute du serveur:\", data);\n\n        if (data.users && data.attente) {\n          setUsers(data.users);  // Mets √† jour la liste des utilisateurs\n          setAttente(data.attente);  // Mets √† jour la liste des utilisateurs en attente\n        } else {\n          console.error(\" Erreur : Pas de donn√©es valides dans la r√©ponse\");\n        }\n      })\n      .catch(error => {\n        console.error(\" Erreur r√©cup√©ration utilisateurs et liste d'attente:\", error);\n      });\n    };\n\n\n\n    const handleMoveToUser = (email) => {\n      // Demander √† l'utilisateur de confirmer l'action\n      if (window.confirm(`Voulez-vous vraiment d√©placer ${email} de la liste d'attente vers la liste des utilisateurs ?`)) {\n        \n        // Pr√©parer les donn√©es √† envoyer\n        const data = new URLSearchParams();\n        data.append('email', email); // L'email de l'utilisateur √† d√©placer\n        console.log(\"email a transferer:\",email); \n    \n        // Effectuer la requ√™te pour d√©placer l'utilisateur\n        fetch(\"http://localhost:8000/MoveToUser.php\", {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/x-www-form-urlencoded\"\n          },\n          body: data\n        })\n        .then(response => response.text())\n        .then(response => {\n          if (response === 'success') {\n            alert(`${email} a √©t√© d√©plac√© avec succ√®s vers la liste des utilisateurs.`);\n            // Mettre √† jour les listes localement apr√®s le d√©placement\n            setAttente(attente.filter(user => user.email !== email)); // Enlever de la liste d'attente\n            setUsers([...users, { email, role: 'user' }]); // Ajouter √† la liste des utilisateurs\n          } else {\n            alert(\" Une erreur est survenue lors du d√©placement.\");\n          }\n        })\n        .catch(error => {\n          console.error(\" Erreur lors du d√©placement :\", error);\n        });\n      }\n    };\n    const handleDeviceSelection = (event) => {\n      const { value, checked } = event.target;\n      setSelectedDevices((prevSelectedDevices) => {\n          const updatedDevices = checked\n              ? [...prevSelectedDevices, value]  // Ajoute l'appareil si coch√©\n              : prevSelectedDevices.filter(device => device !== value);  // Enl√®ve l'appareil si d√©coch√©\n          localStorage.setItem('selectedDevices', JSON.stringify(updatedDevices));  // Sauvegarde dans localStorage\n          return updatedDevices;\n      });\n  };\n\n  const handleSubmitDevices = () => {\n      navigate('/', { state: { selectedDevices } });  // Passe les appareils s√©lectionn√©s √† Home\n  };\n\n  useEffect(() => {\n    if (isLoggedIn && role === 'admin') {\n        fetchMessages();  // Appel pour r√©cup√©rer les messages\n    }\n}, [isLoggedIn, role]);\n\nconst fetchMessages = () => {\n    fetch('http://localhost:8000/GetMessages.php', {\n        method: 'GET',\n        credentials: 'include',\n    })\n    .then(response => response.json())\n    .then(data => {\n        console.log('Messages r√©cup√©r√©s:', data);\n        if (data.messages) {\n            setMessages(data.messages);  // Met √† jour l'√©tat des messages\n        } else {\n            console.error('Erreur lors de la r√©cup√©ration des messages.');\n        }\n    })\n    .catch(error => {\n        console.error('Erreur de r√©cup√©ration des messages:', error);\n    });\n};\n\n\n    \nreturn (\n  <div className=\"login-container\">\n    {!isLoggedIn ? (\n      <form className=\"login-form\" onSubmit={handleLoginSubmit}>\n        <label>\n          Email :\n          <input \n            type=\"email\" \n            value={email} \n            onChange={(e) => setEmail(e.target.value)} \n            className=\"form-input\"\n          />\n        </label>\n        <label>\n          Mot de passe :\n          <input \n            type=\"password\" \n            value={password} \n            onChange={(e) => setPassword(e.target.value)} \n            className=\"form-input\"\n          />\n        </label>\n        {loginError && <p className=\"error-message\">{loginError}</p>}\n        <button type=\"submit\" className=\"submit-btn\">Se connecter</button>\n      </form>\n    ) : (\n      <div className=\"dashboard\">\n        <h2 className=\"welcome-message\">Bienvenue, {userEmail}!</h2>\n        \n        {role === 'admin' ? (\n          <div className=\"admin-dashboard\">\n            <div className=\"dashboard-section\">\n              <h3>Liste des utilisateurs</h3>\n              <div className=\"table-responsive\">\n                <table className=\"data-table\">\n                  {/* ... contenu du tableau utilisateurs ... */}\n                </table>\n              </div>\n            </div>\n\n            <div className=\"dashboard-section\">\n              <h3>Liste d'attente</h3>\n              <div className=\"table-responsive\">\n                <table className=\"data-table\">\n                  {/* ... contenu du tableau attente ... */}\n                </table>\n              </div>\n            </div>\n\n            <div className=\"dashboard-section\">\n              <h3>Messages des utilisateurs</h3>\n              {/* ... contenu des messages ... */}\n            </div>\n\n            <div className=\"dashboard-section devices-section\">\n              <h3>S√©lectionnez des appareils √† afficher</h3>\n              <form className=\"devices-form\">\n                {/* ... cases √† cocher appareils ... */}\n              </form>\n              <div className=\"action-buttons\">\n                <button onClick={handleSubmitDevices} className=\"action-btn\">\n                  ‚¨Ö Appliquer les modifications\n                </button>\n                <button onClick={() => navigate('/')} className=\"action-btn home-btn\">\n                  ‚¨Ö Retour √† l'accueil\n                </button>\n              </div>\n            </div>\n          </div>\n        ) : (\n          <div className=\"user-dashboard\">\n            <div className=\"dashboard-section\">\n              <h3>Modifier votre mot de passe</h3>\n              <form onSubmit={handleChangePasswordSubmit} className=\"password-form\">\n                {/* ... formulaire changement mot de passe ... */}\n              </form>\n              {/* ... message de statut ... */}\n            </div>\n            <div className=\"action-buttons\">\n              <button onClick={() => navigate('/')} className=\"action-btn\">\n                ‚¨Ö Retour √† l'accueil\n              </button>\n              <button onClick={handleLogout} className=\"logout-btn\">\n                Se d√©connecter\n              </button>\n            </div>\n          </div>\n        )}\n      </div>\n    )}\n  </div>\n);\n\n\n\n}\n              \nexport default Login;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}