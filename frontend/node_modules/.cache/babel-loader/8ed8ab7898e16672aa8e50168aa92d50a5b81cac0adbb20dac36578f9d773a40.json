{"ast":null,"code":"var _jsxFileName = \"/home/cytech/web6/frontend/src/pages/Login.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\n//import '../styles/Auth.css';\nimport '../styles/LogIn.css';\nimport { useNavigate } from \"react-router-dom\";\nimport { mockData } from '../data/mockData';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Login() {\n  _s();\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [newPassword, setNewPassword] = useState('');\n  const [role, setRole] = useState('');\n  const [users, setUsers] = useState([]);\n  const [attente, setAttente] = useState([]);\n  const [messages, setMessages] = useState([]);\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [userEmail, setUserEmail] = useState('');\n  const [loginError, setLoginError] = useState('');\n  const [selectedDevices, setSelectedDevices] = useState(JSON.parse(localStorage.getItem('selectedDevices')) || [] // Récupérer les appareils sélectionnés depuis localStorage\n  );\n\n  // Vérifier l'état de la session au démarrage\n  useEffect(() => {\n    fetch('http://localhost:8000/checkSession.php', {\n      method: 'GET',\n      credentials: 'include' // inclure les cookies pour vérifier la session\n    }).then(response => response.json()).then(data => {\n      if (data.success) {\n        setIsLoggedIn(true);\n        setUserEmail(data.email);\n        setRole(data.role);\n      }\n    }).catch(error => {\n      console.error('Erreur lors de la vérification de la session:', error);\n    });\n  }, []);\n  const handleLoginSubmit = e => {\n    e.preventDefault();\n    // Affichage des valeurs avant l'envoi\n    console.log(\"Données envoyées : \", {\n      email,\n      password\n    });\n\n    // Crée les données à envoyer\n    const data = new URLSearchParams();\n    data.append('email', email);\n    data.append('password', password);\n\n    // recupere des données au serveur PHP\n    fetch(\"http://localhost:8000/LogIn.php\", {\n      method: \"POST\",\n      credentials: \"include\",\n      headers: {\n        \"Content-Type\": \"application/x-www-form-urlencoded\"\n      },\n      body: data\n    }).then(response => response.text()) // Lecture de la réponse en texte brut\n    .then(data => {\n      console.log('Réponse du serveur:', data); // Affiche la réponse du serveur\n      if (data.startsWith('success')) {\n        const [, userEmail, userRole] = data.split('|');\n        console.log(\" Email récupéré:\", userEmail);\n        console.log(\"Rôle récupéré:\", userRole);\n        setIsLoggedIn(true);\n        setEmail(userEmail);\n        setUserEmail(userEmail);\n        setRole(userRole);\n        setLoginError(\"\"); // Réinitialiser l'erreur\n      } else {\n        setLoginError(data); // Afficher l'erreur reçue\n      }\n    }).catch(error => {\n      console.error(\"Erreur:\", error);\n    });\n  };\n  const handleLogout = () => {\n    fetch('http://localhost:8000/logout.php', {\n      method: 'GET',\n      credentials: 'include',\n      headers: {\n        \"Content-Type\": \"application/x-www-form-urlencoded\"\n      }\n    }).then(response => response.json()).then(data => {\n      if (data.success) {\n        console.log('Déconnexion réussie:', data.message); // Affiche dans la console\n        alert(data.message); // Affiche un message à l'utilisateur\n        setIsLoggedIn(false);\n        setUserEmail('');\n        navigate('/');\n      } else {\n        console.error('Erreur de déconnexion:', data.message);\n      }\n    }).catch(error => {\n      console.error('Erreur réseau:', error);\n    });\n  };\n  const [passwordMessage, setPasswordMessage] = useState('');\n  const handleChangePasswordSubmit = e => {\n    e.preventDefault();\n    if (!userEmail || !role) {\n      console.error(\"Erreur : Email ou rôle manquant !\");\n      setPasswordMessage(\" Une erreur est survenue.\");\n      return;\n    }\n    if (!newPassword.trim()) {\n      setPasswordMessage(\" Le mot de passe ne peut pas être vide.\");\n      return;\n    }\n    console.log(\"Données envoyées :\", {\n      userEmail,\n      newPassword\n    });\n    // Création des données à envoyer\n    const data = new URLSearchParams();\n    data.append('userEmail', userEmail);\n    data.append('newPassword', newPassword);\n    data.append('role', role);\n    fetch(\"http://localhost:8000/ChangePassword.php\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/x-www-form-urlencoded\"\n      },\n      body: data\n    }).then(response => response.text()).then(serverMessage => {\n      console.log(\"Réponse du serveur :\", serverMessage);\n      if (serverMessage === \"success\") {\n        setPasswordMessage(\" Mot de passe changé avec succès !\");\n      } else {\n        setPasswordMessage(\"\" + serverMessage);\n      }\n    }).catch(error => {\n      console.error(\"Erreur:\", error);\n      setPasswordMessage(\" Une erreur réseau est survenue.\");\n    });\n  };\n  const navigate = useNavigate();\n  const handleDeleteUser = targetEmail => {\n    if (!window.confirm(`Voulez-vous vraiment supprimer l'utilisateur ${targetEmail} ?`)) {\n      return;\n    }\n    const data = new URLSearchParams();\n    data.append('email', targetEmail);\n    fetch(\"http://localhost:8000/DeleteUser.php\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/x-www-form-urlencoded\"\n      },\n      body: data\n    }).then(response => response.text()).then(data => {\n      if (data === \"success\") {\n        alert(\"Utilisateur supprimé avec succès !\");\n        setUsers(users.filter(user => user.email !== targetEmail)); // Mise à jour dynamique\n      } else {\n        alert(\" Erreur lors de la suppression !\");\n      }\n    }).catch(error => {\n      console.error(\" Erreur suppression utilisateur:\", error);\n    });\n  };\n  useEffect(() => {\n    if (isLoggedIn && role === 'admin') {\n      fetchUsers(); // Appel uniquement si l'utilisateur est connecté et admin\n    }\n  }, [isLoggedIn, role]);\n  const fetchUsers = () => {\n    const adminEmail = 'admin@example.com'; // L'email de l'admin\n\n    console.log(\" Envoi de l'email admin :\", adminEmail); // Affiche l'email envoyé\n\n    const data = new URLSearchParams();\n    data.append('admin_email', adminEmail); // Ajoute l'email dans les données envoyées\n\n    fetch(\"http://localhost:8000/GetUsers.php\", {\n      method: \"POST\",\n      // Méthode POST pour envoyer les données\n      headers: {\n        \"Content-Type\": \"application/x-www-form-urlencoded\"\n      },\n      body: data // Envoi des données avec l'email de l'admin\n    }).then(response => response.json()) // Traite la réponse comme un JSON\n    .then(data => {\n      console.log(\" Réponse brute du serveur:\", data);\n      if (data.users && data.attente) {\n        setUsers(data.users); // Mets à jour la liste des utilisateurs\n        setAttente(data.attente); // Mets à jour la liste des utilisateurs en attente\n      } else {\n        console.error(\" Erreur : Pas de données valides dans la réponse\");\n      }\n    }).catch(error => {\n      console.error(\" Erreur récupération utilisateurs et liste d'attente:\", error);\n    });\n  };\n  const handleMoveToUser = email => {\n    // Demander à l'utilisateur de confirmer l'action\n    if (window.confirm(`Voulez-vous vraiment déplacer ${email} de la liste d'attente vers la liste des utilisateurs ?`)) {\n      // Préparer les données à envoyer\n      const data = new URLSearchParams();\n      data.append('email', email); // L'email de l'utilisateur à déplacer\n      console.log(\"email a transferer:\", email);\n\n      // Effectuer la requête pour déplacer l'utilisateur\n      fetch(\"http://localhost:8000/MoveToUser.php\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded\"\n        },\n        body: data\n      }).then(response => response.text()).then(response => {\n        if (response === 'success') {\n          alert(`${email} a été déplacé avec succès vers la liste des utilisateurs.`);\n          // Mettre à jour les listes localement après le déplacement\n          setAttente(attente.filter(user => user.email !== email)); // Enlever de la liste d'attente\n          setUsers([...users, {\n            email,\n            role: 'user'\n          }]); // Ajouter à la liste des utilisateurs\n        } else {\n          alert(\" Une erreur est survenue lors du déplacement.\");\n        }\n      }).catch(error => {\n        console.error(\" Erreur lors du déplacement :\", error);\n      });\n    }\n  };\n  const handleDeviceSelection = event => {\n    const {\n      value,\n      checked\n    } = event.target;\n    setSelectedDevices(prevSelectedDevices => {\n      const updatedDevices = checked ? [...prevSelectedDevices, value] // Ajoute l'appareil si coché\n      : prevSelectedDevices.filter(device => device !== value); // Enlève l'appareil si décoché\n      localStorage.setItem('selectedDevices', JSON.stringify(updatedDevices)); // Sauvegarde dans localStorage\n      return updatedDevices;\n    });\n  };\n  const handleSubmitDevices = () => {\n    navigate('/', {\n      state: {\n        selectedDevices\n      }\n    }); // Passe les appareils sélectionnés à Home\n  };\n  useEffect(() => {\n    if (isLoggedIn && role === 'admin') {\n      fetchMessages(); // Appel pour récupérer les messages\n    }\n  }, [isLoggedIn, role]);\n  const fetchMessages = () => {\n    fetch('http://localhost:8000/GetMessages.php', {\n      method: 'GET',\n      credentials: 'include'\n    }).then(response => response.json()).then(data => {\n      console.log('Messages récupérés:', data);\n      if (data.messages) {\n        setMessages(data.messages); // Met à jour l'état des messages\n      } else {\n        console.error('Erreur lors de la récupération des messages.');\n      }\n    }).catch(error => {\n      console.error('Erreur de récupération des messages:', error);\n    });\n  };\n  return (\n    /*#__PURE__*/\n    //<div className=\"login-container\">\n    _jsxDEV(\"div\", {\n      children: !isLoggedIn ? /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"login-form\",\n        onSubmit: handleLoginSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Email :\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            value: email,\n            onChange: e => setEmail(e.target.value),\n            className: \"form-input\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 316,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Mot de passe :\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            value: password,\n            onChange: e => setPassword(e.target.value),\n            className: \"form-input\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 9\n        }, this), loginError && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"error-message\",\n          children: loginError\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 24\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"submit-btn\",\n          children: \"Se connecter\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 7\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dashboard\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"welcome-message\",\n          children: [\"Bienvenue, \", userEmail, \"!\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 339,\n          columnNumber: 9\n        }, this), role === 'admin' ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"admin-dashboard\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dashboard-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Liste des utilisateurs\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 344,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"table-responsive\",\n              children: /*#__PURE__*/_jsxDEV(\"table\", {\n                className: \"data-table\",\n                children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                  children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"Email\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 349,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"Type\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 350,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"R\\xF4le\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 351,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"Action\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 352,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 348,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 347,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                  children: users.map((user, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      children: user.email\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 358,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: user.type\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 359,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: user.role\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 360,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: /*#__PURE__*/_jsxDEV(\"button\", {\n                        onClick: () => handleDeleteUser(user.email),\n                        className: \"delete-btn\",\n                        children: \"Supprimer\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 362,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 361,\n                      columnNumber: 25\n                    }, this)]\n                  }, index, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 357,\n                    columnNumber: 23\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 355,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 346,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 345,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 343,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dashboard-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Liste d'attente\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 377,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"table-responsive\",\n              children: /*#__PURE__*/_jsxDEV(\"table\", {\n                className: \"data-table\",\n                children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                  children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"Email\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 382,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"Type\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 383,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"R\\xF4le\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 384,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"Action\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 385,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 381,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 380,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                  children: attente.map((user, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      children: user.email\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 391,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: user.type\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 392,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: user.role\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 393,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: /*#__PURE__*/_jsxDEV(\"button\", {\n                        onClick: () => handleMoveToUser(user.email),\n                        className: \"action-btn\",\n                        children: \"Passer \\xE0 utilisateur\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 396,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 395,\n                      columnNumber: 25\n                    }, this)]\n                  }, index, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 390,\n                    columnNumber: 23\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 388,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 379,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 378,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 376,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dashboard-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Messages des utilisateurs\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 411,\n              columnNumber: 15\n            }, this), messages.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"table-responsive\",\n              children: /*#__PURE__*/_jsxDEV(\"table\", {\n                className: \"data-table\",\n                children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                  children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"Email\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 417,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"Message\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 418,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"Date\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 419,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 416,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 415,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                  children: messages.map((message, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      children: message.user_email\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 425,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: message.message\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 426,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: message.sent_at\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 427,\n                      columnNumber: 27\n                    }, this)]\n                  }, index, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 424,\n                    columnNumber: 25\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 422,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 414,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 413,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"no-data\",\n              children: \"Aucun message \\xE0 afficher.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 434,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 410,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dashboard-section devices-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"S\\xE9lectionnez des appareils \\xE0 afficher\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 439,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n              className: \"devices-form\",\n              children: mockData.connectedDevices.map(device => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"device-checkbox\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  id: `device-${device.id}`,\n                  value: device.id,\n                  checked: selectedDevices.includes(device.id),\n                  onChange: handleDeviceSelection\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 443,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: `device-${device.id}`,\n                  children: device.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 450,\n                  columnNumber: 21\n                }, this)]\n              }, device.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 442,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 440,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"action-buttons\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleSubmitDevices,\n                className: \"action-btn\",\n                children: \"Appliquer les modifications\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 455,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => navigate('/'),\n                className: \"action-btn home-btn\",\n                children: \"Retour \\xE0 l'accueil\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 461,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 454,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 438,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 11\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"user-dashboard\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dashboard-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Modifier votre mot de passe\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 473,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n              onSubmit: handleChangePasswordSubmit,\n              className: \"password-form\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: [\"Nouveau mot de passe :\", /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"password\",\n                  value: newPassword,\n                  onChange: e => setNewPassword(e.target.value),\n                  className: \"form-input\",\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 477,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 475,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                className: \"submit-btn\",\n                children: \"Modifier le mot de passe\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 485,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 474,\n              columnNumber: 15\n            }, this), passwordMessage && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: passwordMessage.startsWith('✅') ? 'success-message' : 'error-message',\n              children: passwordMessage\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 490,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 472,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"action-buttons\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => navigate('/'),\n              className: \"action-btn\",\n              children: \"Retour \\xE0 l'accueil\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 496,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleLogout,\n              className: \"logout-btn\",\n              children: \"Se d\\xE9connecter\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 502,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 495,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 471,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 3\n    }, this)\n    //</div>\n  );\n}\n_s(Login, \"6Q6a/8NUGo51nHpCdZutmdQbsaE=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","mockData","jsxDEV","_jsxDEV","Login","_s","email","setEmail","password","setPassword","newPassword","setNewPassword","role","setRole","users","setUsers","attente","setAttente","messages","setMessages","isLoggedIn","setIsLoggedIn","userEmail","setUserEmail","loginError","setLoginError","selectedDevices","setSelectedDevices","JSON","parse","localStorage","getItem","fetch","method","credentials","then","response","json","data","success","catch","error","console","handleLoginSubmit","e","preventDefault","log","URLSearchParams","append","headers","body","text","startsWith","userRole","split","handleLogout","message","alert","navigate","passwordMessage","setPasswordMessage","handleChangePasswordSubmit","trim","serverMessage","handleDeleteUser","targetEmail","window","confirm","filter","user","fetchUsers","adminEmail","handleMoveToUser","handleDeviceSelection","event","value","checked","target","prevSelectedDevices","updatedDevices","device","setItem","stringify","handleSubmitDevices","state","fetchMessages","children","className","onSubmit","type","onChange","required","fileName","_jsxFileName","lineNumber","columnNumber","map","index","onClick","length","user_email","sent_at","connectedDevices","id","includes","htmlFor","name","_c","$RefreshReg$"],"sources":["/home/cytech/web6/frontend/src/pages/Login.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\n//import '../styles/Auth.css';\nimport '../styles/LogIn.css';  \nimport { useNavigate } from \"react-router-dom\";\nimport { mockData } from '../data/mockData';\n\nfunction Login() {\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const [newPassword, setNewPassword] = useState('');\n    const [role, setRole] = useState('');\n    const [users, setUsers] = useState([]);\n    const [attente, setAttente] = useState([]);\n    const [messages, setMessages] = useState([]);\n    \n    const [isLoggedIn, setIsLoggedIn] = useState(false); \n    const [userEmail, setUserEmail] = useState('');\n    const [loginError, setLoginError] = useState('');\n    const [selectedDevices, setSelectedDevices] = useState(\n      JSON.parse(localStorage.getItem('selectedDevices')) || []  // Récupérer les appareils sélectionnés depuis localStorage\n    );  \n\n\n  // Vérifier l'état de la session au démarrage\n    useEffect(() => {\n        fetch('http://localhost:8000/checkSession.php', {\n          method: 'GET',\n          credentials: 'include', // inclure les cookies pour vérifier la session\n        })\n          .then(response => response.json())\n          .then(data => {\n            if (data.success) {\n              setIsLoggedIn(true);\n              setUserEmail(data.email); \n              setRole(data.role); \n            }\n          })\n          .catch(error => {\n            console.error('Erreur lors de la vérification de la session:', error);\n          });\n      }, []);\n\n    const handleLoginSubmit = (e) => {\n      e.preventDefault();\n    // Affichage des valeurs avant l'envoi\n    console.log(\"Données envoyées : \", {email, password });\n  \n      // Crée les données à envoyer\n      const data = new URLSearchParams();\n      data.append('email', email);\n      data.append('password', password);\n      \n  \n      // recupere des données au serveur PHP\n      fetch(\"http://localhost:8000/LogIn.php\", {\n        method: \"POST\",\n        credentials: \"include\", \n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded\",\n        },\n        body: data,\n      })\n      .then((response) => response.text())  // Lecture de la réponse en texte brut\n      .then((data) => {\n        console.log('Réponse du serveur:', data);  // Affiche la réponse du serveur\n        if (data.startsWith('success')) {\n          const [, userEmail, userRole] = data.split('|');\n          console.log(\" Email récupéré:\", userEmail);\n          console.log(\"Rôle récupéré:\", userRole);\n          setIsLoggedIn(true);\n          setEmail(userEmail);\n          setUserEmail(userEmail);\n          setRole(userRole);\n          setLoginError(\"\");  // Réinitialiser l'erreur\n        } else {\n          setLoginError(data);  // Afficher l'erreur reçue\n        }\n      })\n      .catch((error) => {\n        console.error(\"Erreur:\", error);\n      });\n    };\n\n\n\n    const handleLogout = () => {\n      fetch('http://localhost:8000/logout.php', {\n        method: 'GET',\n        credentials: 'include', \n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded\",\n        }, \n      })\n      .then((response) => response.json()) \n      .then((data) => {\n        if (data.success) {\n          console.log('Déconnexion réussie:', data.message); // Affiche dans la console\n          alert(data.message); // Affiche un message à l'utilisateur\n          setIsLoggedIn(false);\n          setUserEmail('');\n          navigate('/'); \n        } else {\n          console.error('Erreur de déconnexion:', data.message);\n        }\n      })\n      .catch((error) => {\n        console.error('Erreur réseau:', error);\n      });\n    };\n\n\n\n\n\n    const [passwordMessage, setPasswordMessage] = useState('');\n\n    const handleChangePasswordSubmit = (e) => {\n        e.preventDefault();\n      \n        if (!userEmail || !role) {\n            console.error(\"Erreur : Email ou rôle manquant !\");\n            setPasswordMessage(\" Une erreur est survenue.\");\n            return;\n        }\n    \n        if (!newPassword.trim()) {\n            setPasswordMessage(\" Le mot de passe ne peut pas être vide.\");\n            return;\n        }\n        console.log(\"Données envoyées :\", { userEmail, newPassword });\n        // Création des données à envoyer\n        const data = new URLSearchParams();\n        data.append('userEmail', userEmail);\n        data.append('newPassword', newPassword);\n        data.append('role', role);\n    \n        fetch(\"http://localhost:8000/ChangePassword.php\", {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/x-www-form-urlencoded\",\n            },\n            body: data,\n        })\n        .then(response => response.text()) \n        .then((serverMessage) => {\n            console.log(\"Réponse du serveur :\", serverMessage);\n    \n            if (serverMessage === \"success\") {\n                setPasswordMessage(\" Mot de passe changé avec succès !\");\n            } else {\n                setPasswordMessage(\"\" + serverMessage);\n            }\n        })\n        .catch((error) => {\n            console.error(\"Erreur:\", error);\n            setPasswordMessage(\" Une erreur réseau est survenue.\");\n        });\n    };\n\n    const navigate = useNavigate();\n\n\n\n    const handleDeleteUser = (targetEmail) => {\n      if (!window.confirm(`Voulez-vous vraiment supprimer l'utilisateur ${targetEmail} ?`)) {\n          return;\n      }\n  \n      const data = new URLSearchParams();\n      data.append('email', targetEmail);\n  \n      fetch(\"http://localhost:8000/DeleteUser.php\", {\n          method: \"POST\",\n          headers: {\n              \"Content-Type\": \"application/x-www-form-urlencoded\",\n          },\n          body: data,\n      })\n      .then(response => response.text())\n      .then((data) => {\n          if (data === \"success\") {\n              alert(\"Utilisateur supprimé avec succès !\");\n              setUsers(users.filter(user => user.email !== targetEmail)); // Mise à jour dynamique\n          } else {\n              alert(\" Erreur lors de la suppression !\");\n          }\n      })\n      .catch((error) => {\n          console.error(\" Erreur suppression utilisateur:\", error);\n      });\n    };\n  \n\n\n\n    useEffect(() => {\n      if (isLoggedIn && role === 'admin') {\n        fetchUsers();  // Appel uniquement si l'utilisateur est connecté et admin\n      }\n    }, [isLoggedIn, role]);\n    const fetchUsers = () => {\n      const adminEmail = 'admin@example.com';  // L'email de l'admin\n    \n      console.log(\" Envoi de l'email admin :\", adminEmail);  // Affiche l'email envoyé\n    \n      const data = new URLSearchParams();\n      data.append('admin_email', adminEmail);  // Ajoute l'email dans les données envoyées\n    \n      fetch(\"http://localhost:8000/GetUsers.php\", {\n        method: \"POST\",  // Méthode POST pour envoyer les données\n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded\"  \n        },\n        body: data  // Envoi des données avec l'email de l'admin\n      })\n      .then(response => response.json())  // Traite la réponse comme un JSON\n      .then(data => {\n        console.log(\" Réponse brute du serveur:\", data);\n\n        if (data.users && data.attente) {\n          setUsers(data.users);  // Mets à jour la liste des utilisateurs\n          setAttente(data.attente);  // Mets à jour la liste des utilisateurs en attente\n        } else {\n          console.error(\" Erreur : Pas de données valides dans la réponse\");\n        }\n      })\n      .catch(error => {\n        console.error(\" Erreur récupération utilisateurs et liste d'attente:\", error);\n      });\n    };\n\n\n\n    const handleMoveToUser = (email) => {\n      // Demander à l'utilisateur de confirmer l'action\n      if (window.confirm(`Voulez-vous vraiment déplacer ${email} de la liste d'attente vers la liste des utilisateurs ?`)) {\n        \n        // Préparer les données à envoyer\n        const data = new URLSearchParams();\n        data.append('email', email); // L'email de l'utilisateur à déplacer\n        console.log(\"email a transferer:\",email); \n    \n        // Effectuer la requête pour déplacer l'utilisateur\n        fetch(\"http://localhost:8000/MoveToUser.php\", {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/x-www-form-urlencoded\"\n          },\n          body: data\n        })\n        .then(response => response.text())\n        .then(response => {\n          if (response === 'success') {\n            alert(`${email} a été déplacé avec succès vers la liste des utilisateurs.`);\n            // Mettre à jour les listes localement après le déplacement\n            setAttente(attente.filter(user => user.email !== email)); // Enlever de la liste d'attente\n            setUsers([...users, { email, role: 'user' }]); // Ajouter à la liste des utilisateurs\n          } else {\n            alert(\" Une erreur est survenue lors du déplacement.\");\n          }\n        })\n        .catch(error => {\n          console.error(\" Erreur lors du déplacement :\", error);\n        });\n      }\n    };\n    const handleDeviceSelection = (event) => {\n      const { value, checked } = event.target;\n      setSelectedDevices((prevSelectedDevices) => {\n          const updatedDevices = checked\n              ? [...prevSelectedDevices, value]  // Ajoute l'appareil si coché\n              : prevSelectedDevices.filter(device => device !== value);  // Enlève l'appareil si décoché\n          localStorage.setItem('selectedDevices', JSON.stringify(updatedDevices));  // Sauvegarde dans localStorage\n          return updatedDevices;\n      });\n  };\n\n  const handleSubmitDevices = () => {\n      navigate('/', { state: { selectedDevices } });  // Passe les appareils sélectionnés à Home\n  };\n\n  useEffect(() => {\n    if (isLoggedIn && role === 'admin') {\n        fetchMessages();  // Appel pour récupérer les messages\n    }\n}, [isLoggedIn, role]);\n\nconst fetchMessages = () => {\n    fetch('http://localhost:8000/GetMessages.php', {\n        method: 'GET',\n        credentials: 'include',\n    })\n    .then(response => response.json())\n    .then(data => {\n        console.log('Messages récupérés:', data);\n        if (data.messages) {\n            setMessages(data.messages);  // Met à jour l'état des messages\n        } else {\n            console.error('Erreur lors de la récupération des messages.');\n        }\n    })\n    .catch(error => {\n        console.error('Erreur de récupération des messages:', error);\n    });\n};\n\n\n    \nreturn (\n  //<div className=\"login-container\">\n  <div>\n    {!isLoggedIn ? (\n      <form className=\"login-form\" onSubmit={handleLoginSubmit}>\n        <label>\n          Email :\n          <input \n            type=\"email\" \n            value={email} \n            onChange={(e) => setEmail(e.target.value)} \n            className=\"form-input\"\n            required\n          />\n        </label>\n        <label>\n          Mot de passe :\n          <input \n            type=\"password\" \n            value={password} \n            onChange={(e) => setPassword(e.target.value)} \n            className=\"form-input\"\n            required\n          />\n        </label>\n        {loginError && <p className=\"error-message\">{loginError}</p>}\n        <button type=\"submit\" className=\"submit-btn\">Se connecter</button>\n      </form>\n    ) : (\n      <div className=\"dashboard\">\n        <h2 className=\"welcome-message\">Bienvenue, {userEmail}!</h2>\n        \n        {role === 'admin' ? (\n          <div className=\"admin-dashboard\">\n            <div className=\"dashboard-section\">\n              <h3>Liste des utilisateurs</h3>\n              <div className=\"table-responsive\">\n                <table className=\"data-table\">\n                  <thead>\n                    <tr>\n                      <th>Email</th>\n                      <th>Type</th>\n                      <th>Rôle</th>\n                      <th>Action</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {users.map((user, index) => (\n                      <tr key={index}>\n                        <td>{user.email}</td>\n                        <td>{user.type}</td>\n                        <td>{user.role}</td>\n                        <td>\n                          <button \n                            onClick={() => handleDeleteUser(user.email)}\n                            className=\"delete-btn\"\n                          >\n                            Supprimer\n                          </button>\n                        </td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </table>\n              </div>\n            </div>\n\n            <div className=\"dashboard-section\">\n              <h3>Liste d'attente</h3>\n              <div className=\"table-responsive\">\n                <table className=\"data-table\">\n                  <thead>\n                    <tr>\n                      <th>Email</th>\n                      <th>Type</th>\n                      <th>Rôle</th>\n                      <th>Action</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {attente.map((user, index) => (\n                      <tr key={index}>\n                        <td>{user.email}</td>\n                        <td>{user.type}</td>\n                        <td>{user.role}</td>\n                        \n                        <td>\n                          <button \n                            onClick={() => handleMoveToUser(user.email)}\n                            className=\"action-btn\"\n                          >\n                            Passer à utilisateur\n                          </button>\n                        </td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </table>\n              </div>\n            </div>\n\n            <div className=\"dashboard-section\">\n              <h3>Messages des utilisateurs</h3>\n              {messages.length > 0 ? (\n                <div className=\"table-responsive\">\n                  <table className=\"data-table\">\n                    <thead>\n                      <tr>\n                        <th>Email</th>\n                        <th>Message</th>\n                        <th>Date</th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {messages.map((message, index) => (\n                        <tr key={index}>\n                          <td>{message.user_email}</td>\n                          <td>{message.message}</td>\n                          <td>{message.sent_at}</td>\n                        </tr>\n                      ))}\n                    </tbody>\n                  </table>\n                </div>\n              ) : (\n                <p className=\"no-data\">Aucun message à afficher.</p>\n              )}\n            </div>\n\n            <div className=\"dashboard-section devices-section\">\n              <h3>Sélectionnez des appareils à afficher</h3>\n              <form className=\"devices-form\">\n                {mockData.connectedDevices.map((device) => (\n                  <div key={device.id} className=\"device-checkbox\">\n                    <input\n                      type=\"checkbox\"\n                      id={`device-${device.id}`}\n                      value={device.id}\n                      checked={selectedDevices.includes(device.id)}\n                      onChange={handleDeviceSelection}\n                    />\n                    <label htmlFor={`device-${device.id}`}>{device.name}</label>\n                  </div>\n                ))}\n              </form>\n              <div className=\"action-buttons\">\n                <button \n                  onClick={handleSubmitDevices} \n                  className=\"action-btn\"\n                >\n                  Appliquer les modifications\n                </button>\n                <button \n                  onClick={() => navigate('/')} \n                  className=\"action-btn home-btn\"\n                >\n                  Retour à l'accueil\n                </button>\n              </div>\n            </div>\n          </div>\n        ) : (\n          <div className=\"user-dashboard\">\n            <div className=\"dashboard-section\">\n              <h3>Modifier votre mot de passe</h3>\n              <form onSubmit={handleChangePasswordSubmit} className=\"password-form\">\n                <label>\n                  Nouveau mot de passe :\n                  <input \n                    type=\"password\" \n                    value={newPassword} \n                    onChange={(e) => setNewPassword(e.target.value)} \n                    className=\"form-input\"\n                    required\n                  />\n                </label>\n                <button type=\"submit\" className=\"submit-btn\">\n                  Modifier le mot de passe\n                </button>\n              </form>\n              {passwordMessage && (\n                <p className={passwordMessage.startsWith('✅') ? 'success-message' : 'error-message'}>\n                  {passwordMessage}\n                </p>\n              )}\n            </div>\n            <div className=\"action-buttons\">\n              <button \n                onClick={() => navigate('/')} \n                className=\"action-btn\"\n              >\n                Retour à l'accueil\n              </button>\n              <button \n                onClick={handleLogout} \n                className=\"logout-btn\"\n              >\n                Se déconnecter\n              </button>\n            </div>\n          </div>\n        )}\n      </div>\n    )}\n      </div>\n  //</div>\n);\n\n\n\n\n}\n              \nexport default Login;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}